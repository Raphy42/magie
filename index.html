<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>La magie</title>

    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="node_modules/d3/build/d3.min.js"></script>
</head>
<body>
<h1>Hello</h1>
<div class="chart"></div>

<script type="text/javascript">
    const API = 'https://wittycircle.com/api/profiles';

    let magic_data = profiles => {
        return profiles.profiles.map(p => p.id)
    }

    let Request = fetch(API)
        .then(res => res.json())
        .then(profiles => {
            d3.select(".chart")
                .selectAll("div")
                .data(magic_data)
                .enter().append("div")
                .style("width", function (d) {
                    return d * 10 + "px";
                })
                .text(function (d) {
                    return d;
                });
        });
</script>


</body>
</html>