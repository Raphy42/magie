<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>La magie</title>

    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="node_modules/d3/build/d3.min.js"></script>
</head>
<body>
<h1>Hello</h1>
<div class="chart"></div>

<script type="text/javascript">
    const API = 'http://localhost:5000/api/graph';

    let Request = fetch(API)
        .then(res => res.json())
        .then(profiles => {
            console.log(profiles)

            d3.select(".chart")
                .selectAll("div")
                .data(profiles)
                .enter().append("div")
                .style("width", function (p) {
                    return p.followers.length * 10 + "px";
                })
                .text(function (p) {
                    return `${p.data.full_name} - ${p.followers.length}`;
                });
        });
</script>


</body>
</html>